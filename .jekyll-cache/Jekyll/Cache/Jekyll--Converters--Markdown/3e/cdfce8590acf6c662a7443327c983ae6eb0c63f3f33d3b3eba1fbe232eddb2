I"È<p>Hello, thanks for dropping by. Iâ€™m a life-long fan of tennis and I want to get into data analytics so I thought, why not combine to the two together to create some fun projects for myself? In this first blog post Iâ€™d like to take another look at aces stats in tennis.</p>

<p>For those who donâ€™t know, in tennis, an ace is a serve that successfully lands in the service box and does not touch the receiving playerâ€™s racquet.</p>

<p>In tennis, the three all-time leader of aces served is John Isner, Ivo Karlovic, and Roger Federer. As of this writing, they have 13,813; 13,728; and 11,478 aces, respectively. But Iâ€™m not here to talk about them. Their data can easily by found on the <a href="https://www.atptour.com/en/stats/aces">ATP website</a>.</p>

<p>Instead, I want to talk about who got aced on the most in the open era. I donâ€™t believe this question has been asked before. Itâ€™s something Iâ€™ve been pondering about for a while so itâ€™s about time I dig into the data to find out.</p>

<p>Caveat: the data set I get is from <a href="https://github.com/JeffSackmann/tennis_atp">Jeff Sackmanâ€™s repository</a>. I am not sure how accurate or complete it is. When I crunch the data, I find there is some discrepancy between my result and the official ATP website. For example, my result shows <a href="https://docs.google.com/spreadsheets/d/1YlQAnsyW7_jmyOYFSk1WJ6O6_7u2PxgEgqcNLFfsgFY/edit#gid=262157908">John Isner has 13,936 aces</a> vs the <a href="https://www.atptour.com/en/players/john-isner/i186/player-stats">ATPâ€™s 13,814</a> aces so take what you read below with a grain of salt.</p>

<p>So letâ€™s get right into it. Here are the stats for the top 10 men for getting aced on count (canâ€™t think of a better term),match count,  and average aced on per match.</p>
<iframe src="https://public.tableau.com/views/Playersandaces/Dashboard1?:display_count=n&amp;:showVizHome=no&amp;:embed=true" height="650" width="800"></iframe>

<p>In the first chart, we see Feliciano Lopez and Roger Federer are in the lead with getting aced on the most 7,540 and 7,109 respectively. But Federer has the played the most matches by far. Heâ€™s played over 500 more matches than the next two highest match counts,  Sampras and Lopez. On average he gets aced on about 4.619 times per match, whereas Lopez gets aced on 7.5 times per match.</p>

<p>Perhaps not so surprising is players who have big serves and often ace their opponents are also the leaders in getting aced on the most (based on raw numbers and averages). This is something Iâ€™ve known intuitively for a long time, but now there are numbers to back it up.</p>

<hr />

<p>EXTRA:</p>

<p>I want to explain my work flow and my thought process so you can see how I got there. First, I download and unzip the entire ATP data set FROM Jeffâ€™s repository. Then I load all the ATP matches FROM 1968 to the present into <a href="https://sqlitebrowser.org/">DB Browser for SQLite</a>. What I got is essentially one big data table for me to play with in SQLite. Each row details an individual match, winner name, loser name, and a host of other categories. It has the following columns:</p>

<blockquote>
  <p>tourney_id,	tourney_name,	surface,	draw_size,	tourney_level,	tourney_date,	match_num,	winner_id,	winner_seed,	winner_entry,	winner_name,	winner_hand,	winner_ht,	winner_ioc,	winner_age,	loser_id,	loser_seed,	loser_entry,	loser_name,	loser_hand,	loser_ht,	loser_ioc,	loser_age,	score,	best_of,	round,	minutes,	w_ace,	w_df,	w_svpt,	w_1stIn,	w_1stWon,	w_2ndWon,	w_SvGms,	w_bpSaved,	w_bpFaced,	l_ace,	l_df,	l_svpt,	l_1stIn,	l_1stWon,	l_2ndWon,	l_SvGms,	l_bpSaved,	l_bpFaced,	winner_rank,	winner_rank_points,	loser_rank,	loser_rank_points</p>
</blockquote>

<p>Note that there are two columns for ace stats. One is w_ace (winning playerâ€™s ace) and the other is l_ace (losing playerâ€™s ace). To get all the aces for a player, Iâ€™d have to add up all the aces in all the matches that he plays. This means adding up all the aces in all the matches he won and lost. Then add up all the matches he plays. Then divide the aces against the players by the matches to get the average. And finally apply the query to players to who have at least 100 matches under their belt and exclude rows with NULL values. The final SQL query would look like this:</p>

<pre><code class="language-SQL">SELECT player_name, SUM(aces_against), SUM(matches) as matches,  SUM(aces_against)*1.0/matches as average_aces_against
FROM
(SELECT winner_name as player_name, SUM(w_ace) as aces_against, COUNT(winner_name) as matches
FROM atp_matches
GROUP BY winner_name
UNION ALL
SELECT loser_name as player_name, SUM(l_ace) as aces_against, COUNT(loser_name) as matches
FROM atp_matches
GROUP BY loser_name)
WHERE matches &gt;= 100
AND player_name is not null 
AND matches is not null 
AND got_aced is not null 
AND aces is not null
GROUP BY player_name
</code></pre>

<p>And this is the <a href="https://docs.google.com/spreadsheets/d/1YlQAnsyW7_jmyOYFSk1WJ6O6_7u2PxgEgqcNLFfsgFY/edit#gid=262157908">result</a>.</p>

:ET